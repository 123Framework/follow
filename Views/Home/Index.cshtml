@model StartChatViewModel
@{
    ViewData["Title"] = "Home";
    var isAuthenticated = User.Identity.IsAuthenticated;
}

<div class="container mt-5 text-center">
    <h1 class="display-4 mb-4">Welcome to Tweeter</h1>
    <p class="lead mb-5">See what people are posting!</p>

    <div class="d-flex justify-content-center gap-3 flex-wrap">
        @if (!isAuthenticated)
        {
            <a asp-controller="Account" asp-action="Login" class="btn btn-outline-primary btn-lg">Login</a>
            <a asp-controller="Account" asp-action="Register" class="btn btn-primary btn-lg">Sign Up</a>
        }
        else
        {
            <p class="text-success">You're logged in as <strong>@User.Identity.Name</strong></p>
        }

        <a asp-controller="Post" asp-action="Index" class="btn btn-secondary btn-lg">View Posts</a>
    </div>
</div>

<div class="card chat-card mt-5">
    <h2>Начать диалог</h2>
    <form asp-action="StartChat" method="post" class="start-chat-form">
        @Html.AntiForgeryToken()
        <label for="recipient">Получатель</label>
        <select id="recipient" name="SelectedEmail" class="select">
            <option value="">-выберите пользователя-</option>
            @foreach (var u in Model.Users)
            {
                <option value="@u">@u</option>
            }
        </select>
        <button type="submit" class="btn-chat">Перейти в чат</button>
    </form>
</div>

<style>
    
    .container h1 {
        font-weight: 700;
        color: #1a1a1a;
    }

    .btn-lg {
        border-radius: 12px;
        padding: 12px 24px;
        font-weight: 600;
    }

    
    .chat-card {
        max-width: 640px;
        margin: 30px auto;
        padding: 24px;
        border-radius: 16px;
        background: #ffffff;
        box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

        .chat-card h2 {
            margin-bottom: 16px;
            color: #1a1a1a;
        }

    .start-chat-form {
        display: flex;
        flex-direction: column;
        gap: 14px;
    }

        .start-chat-form label {
            font-weight: 600;
            margin-bottom: 4px;
            color: #333;
        }

    .select {
        padding: 12px;
        border-radius: 12px;
        border: 1px solid #d1d5db;
        font-size: 15px;
        background: #f9f9f9;
        transition: border 0.3s, background 0.3s;
    }

        .select:focus {
            border-color: #007bff;
            background: #fff;
            outline: none;
        }

    .btn-chat {
        padding: 12px 20px;
        border: none;
        border-radius: 20px;
        font-weight: 600;
        font-size: 15px;
        color: #fff;
        cursor: pointer;
        background: linear-gradient(90deg, #1DA1F2, #0d8ddb);
        transition: background 0.3s, transform 0.2s;
    }

        .btn-chat:hover {
            background: linear-gradient(90deg, #0d8ddb, #1DA1F2);
            transform: translateY(-2px);
        }

        .btn-chat:active {
            transform: translateY(0);
        }
</style>